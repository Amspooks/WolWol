<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <style>

.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
/* } */
}
.topnav a.active {
  background-color: #04AA6D;
  color: white;
}
        #randomButton {
      position: absolute;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #f0d1a0;
      color: white;
      border: none;
      border-radius: 5px;
      transition: transform 0.2s ease, top 0.2s ease, left 0.2s ease;
    }
        /* Blow-up animation */
    .blow-up {
      animation: blowUp 0.4s ease-out forwards;
    }

    @keyframes blowUp {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.5);
      }
      100% {
        transform: scale(1);
      }
    }
</style>
</head>
<body onload="breadgame = setInterval(loadframe, 10);">

<div class="topnav">
  <a href="index.html">Home</a>
  <a class="active" href="twopage.html">Tomato?</a>
  <a href="threepage.html">Buttons</a>
  <a href="fourpage.html">Images</a>
</div>

<div style="padding-left:16px">
</div>

  <p>I like bread</p>

  <button id="randomButton" onclick="addbread()">Bread!</button>

  <script>
    
    const button = document.getElementById('randomButton');

        const button = document.getElementById('randomButton');
    const messages = [
      "Ow",
      "Stop it",
      "That hurts",
      ":(",
      "You're being mean",
      "Ouch",
      "Let me speak to a manager",
      "This sucks",
      "Eternal torture",
      "Help",
      "I'm calling 911",
      "Bruh"
    ];

    button.addEventListener('click', () => {
      // Randomly pick a message from the array
      const randomMessage = messages[Math.floor(Math.random() * messages.length)];

      // Set the button text to the randomly selected message
      button.textContent = randomMessage;

    button.addEventListener('click', () => {
      // Add the blow-up animation class
      button.classList.add('blow-up');

      // Remove the class after the animation ends
      setTimeout(() => {
        button.classList.remove('blow-up');
      }, 400); // Matches the duration of the animation

      // Get the dimensions of the viewport
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;

      // Generate random positions
      const randomX = Math.random() * (viewportWidth - button.offsetWidth);
      const randomY = Math.random() * (viewportHeight - button.offsetHeight);

      // Set the button's new position
      button.style.left = `${randomX}px`;
      button.style.top = `${randomY}px`;
    });
  </script>
  
  <canvas id="breadbox" width="700" height="700" style="border:1px solid #dfdfdf;"> 
  <!--Bread box :)--> 
  </canvas>
  
  <script>
    var canvas = document.getElementById("breadbox");
    var ctx = canvas.getContext("2d"); //stupid context >:(
    gravity = 0.05;
    //Java juice
    images = {}
    bread = [["livingbread.gif",360,347], ["toast.png",225,225], ["milkbread.png",666,375], ["baguette.png",300,300], ["loaf.png",612,408]];
    skibidibread = {} // "loaf.png":{"x":612,"y":408,"type":0-4} is 1 element of it 
    for (const banaan of bread) {
      skibidibread[banaan[0]] = {width:banaan[1], height:banaan[2]};
      im = new Image();
      im.src="bread/"+[banaan[0]];
      images[banaan[0]] = im; // do you want me to add the width and height of the image to it? no :)
    }

    

    for (const breadimg of bread)
    
    //BREAD START AT TOP MIDDLE!!!! Coordinates start at top right.
    //Each bread is represented with an array:
    //First two numbers - position coordinates
    //Last number - What type of bread it is
    breadinfo = []; 

    function loadframe()
    {
      // do the game logic stuff
      for (const breaddata of breadinfo)
      {
        breaddata.yvel -= gravity;
        breaddata.y -= breaddata.yvel;

        floorlevel = 700-skibidibread[breaddata.srcname].height/2;
        if (breaddata.y >= floorlevel)
        {
          breaddata.y = floorlevel;
          breaddata.yvel = 0;
        }
      }
      // draw the current frame
      drawframe();
    }
    
    function skibidiimagecoord(imagename,coord) {
      return [coord[0]-skibidibread[imagename].width/2,coord[1]-skibidibread[imagename].height/2]
    }

    function drawframe()
    {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (const breaddata of breadinfo) //ITERATE THROUGH EXISTING BREAD
      {
        //DRAW THE CURRENT BREAD (using the info stored in breadinfo)!
        posdata = skibidiimagecoord(breaddata.srcname,[breaddata.x,breaddata.y]);
        ctx.drawImage(breaddata.src, posdata[0],posdata[1]);
      }
    }

    function addbread()
    {
      imgnum = Math.floor(Math.random()*bread.length);
      breadinfo.push(
        {
          src: images[bread[imgnum][0]],
          srcname: bread[imgnum][0],
          x: 350,
          y: 0,
          yvel: 0
        }
      )
    }
  </script>
</body>
</html>
<!--<script type="module" src="render.js"></script>-->
